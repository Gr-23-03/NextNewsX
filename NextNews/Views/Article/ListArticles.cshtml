@model IEnumerable<NextNews.Models.Database.Article>

@using NextNews.Services

@inject ICategoryService _categoryService;



@{
    ViewData["Title"] = "ListArticles";
    Pager pager = new Pager();
    int pageNo = 0;

    if (ViewBag.Pager != null)
    {
        pager = ViewBag.Pager;
        pageNo = pager.CurrentPage;
    }
}



<h1>ListArticles</h1>

<p>
    <a asp-action="CreateArticle">Create New</a>
</p>

<div class="row">

    @*   ****  LOOP WITH LIST OF ARTICLES   ****   *@


    @foreach (var item in Model)
    {

        <div class="col-4 p-4" style="border:1px solid gray">

            @*  <img src="@item.ImageLink" style="width: 100%"  /> *@
            <br />
            <a asp-action="Details" asp-route-id="@item.Id">
                <img src="@item.ImageLink" @item.LinkText style="width: 100%" />
            </a>

            <h3>@item.LinkText</h3>
            <p><i>@item.ContentSummary</i></p>

            @{
                var cat = _categoryService.GetCategoryById(item.Id);
            }


            <h6>Category Id :  @cat.Name </h6>
            @*    <h6>Category Name: @item.Category Name </h6> *@
            @*     <h6>Category Name: @item @Category Name</h6> *@

            @*  <h4>@item.Id</h4>  *@
            @*    <h6>@Html.Raw(item.Content)</h6> *@
            <h6> AuthorName :  @item.AuthorName </h6>
            <h6> Release Date :   @item.DateStamp</h6>

            @*   <h6>Actions</h6>  *@
            @*   <h3>Images</h3>  *@
            @*             @if (item.ImageLink != null)
        {
        <img src="@item.ImageLink" style="height:150px;width:150px;" . />

        }
        &nbsp;&nbsp;&nbsp;

        @if (item.ImageLink2 != null)
        {
        <img src="@item.ImageLink2" style="height:150px;width:150px;" />
        }
        *@

            <br />





            <a asp-action="Details" asp-controller="Article" asp-route-id="@item.Id" class="btn btn-outline-info" style="wavy">Read More </a>
            <a asp-action="Edit" asp-controller="Article" asp-route-id="@item.Id" class="btn btn-outline-info" style="wavy">Edit</a>
            <a asp-action="Delete" asp-controller="Article" asp-route-id="@item.Id" class="btn btn-outline-info" style="wavy">Delete</a>




            @*  <a href="@Url.Action("Details", "Articles", new { id = item.Id })">Read More</a>
        <a asp-controller="Article" asp-action="Details" asp-route-id="@item.Id">Read More</a> *@






        </div>
    }

</div>






























