@model IEnumerable<NextNews.Models.Database.Article>

@using NextNews.Services

@inject ICategoryService _categoryService;



@{
    ViewData["Title"] = "ListArticles";
    Pager pager = new Pager();
    int pageNo = 0;

    if (ViewBag.Pager != null)
    {
        pager = ViewBag.Pager;
        pageNo = pager.CurrentPage;
    }
}



<h1>ListArticles</h1>


<div class="row">

    @*   ****  LOOP WITH LIST OF ARTICLES   ****   *@


    @foreach (var item in Model)
    {

        <div class="col-4 p-4" style="border:1px solid gray">

            @*  <img src="@item.ImageLink" style="width: 100%"  /> *@
            <br />
            <a asp-action="Details" asp-route-id="@item.Id">
                <img src="@item.ImageLink" @item.LinkText style="width: 100%" />
            </a>

            <h3>@item.LinkText</h3>
            <p><i>@item.ContentSummary</i></p>

            @{
                var cat = _categoryService.GetCategoryById(item.CategoryId ?? 0);
            }


            <h6>Category Name :  @cat?.Name</h6>
            <h6> Author Name :  @item.AuthorName </h6>
            <h6> Release Date :   @item.DateStamp</h6>

            <br />





            <a asp-action="Details" asp-controller="Article" asp-route-id="@item.Id" class="btn btn-outline-info" style="wavy">Read More </a>
            <a asp-action="Edit" asp-controller="Article" asp-route-id="@item.Id" class="btn btn-outline-info" style="wavy">Edit</a>
            <a asp-action="Delete" asp-controller="Article" asp-route-id="@item.Id" class="btn btn-outline-info" style="wavy">Delete</a>

        </div>
    }

</div>

      
  <partial name="_PagginationPartialView" model="@pager"></partial>












